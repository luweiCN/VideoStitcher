# electron-builder 配置 (仅用于 Windows NSIS 安装包)
# Mac/Linux 继续使用 electron-forge

appId: com.local.videostitcher
productName: VideoStitcher
directories:
  buildResources: build
  output: dist

files:
  - src/**/*
  - package.json

# Windows 配置
win:
  signAndEditExecutable: false  # 禁用可执行文件签名
  target:
    - target: nsis
      arch:
        - x64
  artifactName: ${productName}-${version}-setup.${ext}

# NSIS 安装包配置
nsis:
  oneClick: false                                  # 传统安装向导（非一键安装）
  allowToChangeInstallationDirectory: true         # 允许用户选择安装目录
  perMachine: false                                # 为当前用户安装
  createDesktopShortcut: always                   # 创建桌面快捷方式
  createStartMenuShortcut: true                    # 创建开始菜单快捷方式
  runAfterFinish: false                           # 安装完成后不自动运行

  # 安装包图标（可选）
  # installerIcon: build/icon.ico

  # 卸载配置
  deleteAppDataOnUninstall: false

  # 安装程序语言
  language: 2052  # 简体中文

# asar 配置（确保 ffmpeg 被解压）
asarUnpack:
  - node_modules/ffmpeg-static/**/*
